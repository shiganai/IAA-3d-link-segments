function V_hirashima = find_V_hirashima(I1x,I2x,I3x,I4x,I1y,I2y,I3y,I4y,I1z,I2z,I3z,I4z,l1,l2,l3,lg1,lg2,lg3,lg4,m1,m2,m3,m4,omega1_1,omega1_2,omega1_3,omega2_1,omega2_2,omega2_3,omega3_1,omega3_2,omega3_3,omega4_1,omega4_2,omega4_3,seg1_top_a_1,seg1_top_a_2,seg1_top_a_3,theta1_1,theta1_2,theta1_3,theta2_1,theta2_2,theta2_3,theta3_1,theta3_2,theta3_3,theta4_1,theta4_2,theta4_3)
%find_V_hirashima
%    V_hirashima = find_V_hirashima(I1x,I2x,I3x,I4x,I1y,I2y,I3y,I4y,I1z,I2z,I3z,I4z,L1,L2,L3,LG1,LG2,LG3,LG4,M1,M2,M3,M4,OMEGA1_1,OMEGA1_2,OMEGA1_3,OMEGA2_1,OMEGA2_2,OMEGA2_3,OMEGA3_1,OMEGA3_2,OMEGA3_3,OMEGA4_1,OMEGA4_2,OMEGA4_3,SEG1_TOP_A_1,SEG1_TOP_A_2,SEG1_TOP_A_3,THETA1_1,THETA1_2,THETA1_3,THETA2_1,THETA2_2,THETA2_3,THETA3_1,THETA3_2,THETA3_3,THETA4_1,THETA4_2,THETA4_3)

%    This function was generated by the Symbolic Math Toolbox version 9.0.
%    16-Jun-2022 14:59:07

et1 = ((omega4_2.*cos(theta4_3).*sin(theta4_2)+omega4_3.*cos(theta4_2).*sin(theta4_3)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+(omega4_3.*cos(theta4_2).*cos(theta4_3)-omega4_2.*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3))-omega4_2.*cos(theta4_1).*cos(theta4_2).^2).*(I4x.*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).^2+I4y.*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).^2+I4z.*cos(theta4_2).^2.*sin(theta4_1).^2);
et2 = ((cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3))+(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_1).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2))).*(I4z.*cos(theta4_2).*sin(theta4_1).*sin(theta4_2)-I4x.*cos(theta4_2).*cos(theta4_3).*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)));
et3 = -(-sin(theta4_2).*(omega4_1.*cos(theta4_1).*cos(theta4_2)-omega4_2.*sin(theta4_1).*sin(theta4_2))+cos(theta4_2).*cos(theta4_3).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))).*(I4x.*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+I4y.*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3))-I4z.*cos(theta4_1).*cos(theta4_2).^2.*sin(theta4_1));
et4 = -sin(theta4_2).*(omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0)+omega4_2.*cos(theta4_2).*(omega4_1.*cos(theta4_1).*cos(theta4_2)-omega4_2.*sin(theta4_1).*sin(theta4_2))+cos(theta4_2).*cos(theta4_3).*(omega4_1.^2.*cos(theta4_1).*sin(theta4_3)+omega4_3.^2.*cos(theta4_1).*sin(theta4_3)+omega4_1.^2.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_2.^2.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.^2.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_1.*omega4_3.*cos(theta4_3).*sin(theta4_1).*2.0-omega4_1.*omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3).*2.0+omega4_1.*omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3).*2.0+omega4_2.*omega4_3.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3).*2.0);
et5 = -cos(theta4_2).*sin(theta4_3).*(omega4_1.^2.*cos(theta4_1).*cos(theta4_3)+omega4_3.^2.*cos(theta4_1).*cos(theta4_3)-omega4_1.*omega4_3.*sin(theta4_1).*sin(theta4_3).*2.0-omega4_1.^2.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)-omega4_2.^2.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)-omega4_3.^2.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_1.*omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3).*2.0+omega4_1.*omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2).*2.0+omega4_2.*omega4_3.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1).*2.0)-omega4_3.*cos(theta4_2).*cos(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+omega4_2.*cos(theta4_3).*sin(theta4_2).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3));
et6 = omega4_3.*cos(theta4_2).*sin(theta4_3).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+omega4_2.*sin(theta4_2).*sin(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2));
et7 = ((cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3))+(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_1).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2))).*(I4z.*sin(theta4_2).^2+I4x.*cos(theta4_2).^2.*cos(theta4_3).^2+I4y.*cos(theta4_2).^2.*sin(theta4_3).^2);
et8 = (-sin(theta4_2).*(omega4_1.*cos(theta4_1).*cos(theta4_2)-omega4_2.*sin(theta4_1).*sin(theta4_2))+cos(theta4_2).*cos(theta4_3).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))).*(I4z.*cos(theta4_1).*cos(theta4_2).*sin(theta4_2)+I4x.*cos(theta4_2).*cos(theta4_3).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))-I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)));
et9 = ((omega4_2.*cos(theta4_3).*sin(theta4_2)+omega4_3.*cos(theta4_2).*sin(theta4_3)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+(omega4_3.*cos(theta4_2).*cos(theta4_3)-omega4_2.*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3))-omega4_2.*cos(theta4_1).*cos(theta4_2).^2).*(I4z.*cos(theta4_2).*sin(theta4_1).*sin(theta4_2)-I4x.*cos(theta4_2).*cos(theta4_3).*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)));
et10 = (sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2)).*(omega4_2.^2.*cos(theta4_2).*cos(theta4_3)+omega4_3.^2.*cos(theta4_2).*cos(theta4_3)-omega4_2.*omega4_3.*sin(theta4_2).*sin(theta4_3).*2.0)-(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_2.^2.*cos(theta4_2).*sin(theta4_3)+omega4_3.^2.*cos(theta4_2).*sin(theta4_3)+omega4_2.*omega4_3.*cos(theta4_3).*sin(theta4_2).*2.0)+(omega4_2.*cos(theta4_3).*sin(theta4_2)+omega4_3.*cos(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3))+(omega4_3.*cos(theta4_2).*cos(theta4_3)-omega4_2.*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3));
et11 = omega4_1.*omega4_2.*cos(theta4_2).^2.*sin(theta4_1)+omega4_2.^2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_2).*2.0;
et12 = -(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(-omega4_1.^2.*sin(theta4_1).*sin(theta4_3)-omega4_3.^2.*sin(theta4_1).*sin(theta4_3)+omega4_1.^2.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.^2.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_3.^2.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_1.*omega4_3.*cos(theta4_1).*cos(theta4_3).*2.0+omega4_1.*omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1).*2.0+omega4_2.*omega4_3.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3).*2.0-omega4_1.*omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3).*2.0);
et13 = -(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.^2.*cos(theta4_3).*sin(theta4_1)+omega4_3.^2.*cos(theta4_3).*sin(theta4_1)+omega4_1.^2.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.^2.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_3.^2.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_1.*omega4_3.*cos(theta4_1).*sin(theta4_3).*2.0-omega4_2.*omega4_3.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3).*2.0+omega4_1.*omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3).*2.0+omega4_1.*omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2).*2.0)+(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3));
et14 = cos(theta4_2).*sin(theta4_1).*(omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0)-omega4_2.*sin(theta4_1).*sin(theta4_2).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2))+omega4_1.*cos(theta4_1).*cos(theta4_2).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2));
et15 = (et1+et2+et3).*((cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3))+(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_1).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2)))+(I4x.*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2)).^2+I4y.*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).^2+I4z.*cos(theta4_1).^2.*cos(theta4_2).^2).*(et4+et5+et6);
et16 = -((omega4_2.*cos(theta4_3).*sin(theta4_2)+omega4_3.*cos(theta4_2).*sin(theta4_3)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+(omega4_3.*cos(theta4_2).*cos(theta4_3)-omega4_2.*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3))-omega4_2.*cos(theta4_1).*cos(theta4_2).^2).*(et7+et8+et9)+(I4x.*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+I4y.*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3))-I4z.*cos(theta4_1).*cos(theta4_2).^2.*sin(theta4_1)).*(et10+et11);
et17 = -(I4z.*cos(theta4_1).*cos(theta4_2).*sin(theta4_2)+I4x.*cos(theta4_2).*cos(theta4_3).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))-I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3))).*(et12+et13+et14)-lg4.*m4.*sin(theta4_2).*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et18 = lg4.*m4.*cos(theta4_2).*sin(theta4_1).*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2));
et19 = -sin(theta4_2).*(omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0)+omega4_2.*cos(theta4_2).*(omega4_1.*cos(theta4_1).*cos(theta4_2)-omega4_2.*sin(theta4_1).*sin(theta4_2))+cos(theta4_2).*cos(theta4_3).*(omega4_1.^2.*cos(theta4_1).*sin(theta4_3)+omega4_3.^2.*cos(theta4_1).*sin(theta4_3)+omega4_1.^2.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_2.^2.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.^2.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_1.*omega4_3.*cos(theta4_3).*sin(theta4_1).*2.0-omega4_1.*omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3).*2.0+omega4_1.*omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3).*2.0+omega4_2.*omega4_3.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3).*2.0);
et20 = -cos(theta4_2).*sin(theta4_3).*(omega4_1.^2.*cos(theta4_1).*cos(theta4_3)+omega4_3.^2.*cos(theta4_1).*cos(theta4_3)-omega4_1.*omega4_3.*sin(theta4_1).*sin(theta4_3).*2.0-omega4_1.^2.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)-omega4_2.^2.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)-omega4_3.^2.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_1.*omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3).*2.0+omega4_1.*omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2).*2.0+omega4_2.*omega4_3.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1).*2.0)-omega4_3.*cos(theta4_2).*cos(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+omega4_2.*cos(theta4_3).*sin(theta4_2).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3));
et21 = omega4_3.*cos(theta4_2).*sin(theta4_3).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+omega4_2.*sin(theta4_2).*sin(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2));
et22 = ((cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3))+(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_1).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2))).*(I4z.*sin(theta4_2).^2+I4x.*cos(theta4_2).^2.*cos(theta4_3).^2+I4y.*cos(theta4_2).^2.*sin(theta4_3).^2);
et23 = (-sin(theta4_2).*(omega4_1.*cos(theta4_1).*cos(theta4_2)-omega4_2.*sin(theta4_1).*sin(theta4_2))+cos(theta4_2).*cos(theta4_3).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))).*(I4z.*cos(theta4_1).*cos(theta4_2).*sin(theta4_2)+I4x.*cos(theta4_2).*cos(theta4_3).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))-I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)));
et24 = ((omega4_2.*cos(theta4_3).*sin(theta4_2)+omega4_3.*cos(theta4_2).*sin(theta4_3)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+(omega4_3.*cos(theta4_2).*cos(theta4_3)-omega4_2.*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3))-omega4_2.*cos(theta4_1).*cos(theta4_2).^2).*(I4z.*cos(theta4_2).*sin(theta4_1).*sin(theta4_2)-I4x.*cos(theta4_2).*cos(theta4_3).*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)));
et25 = ((cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3))+(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_1).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2))).*(I4z.*cos(theta4_1).*cos(theta4_2).*sin(theta4_2)+I4x.*cos(theta4_2).*cos(theta4_3).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))-I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)));
et26 = -((omega4_2.*cos(theta4_3).*sin(theta4_2)+omega4_3.*cos(theta4_2).*sin(theta4_3)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+(omega4_3.*cos(theta4_2).*cos(theta4_3)-omega4_2.*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3))-omega4_2.*cos(theta4_1).*cos(theta4_2).^2).*(I4x.*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+I4y.*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3))-I4z.*cos(theta4_1).*cos(theta4_2).^2.*sin(theta4_1));
et27 = (-sin(theta4_2).*(omega4_1.*cos(theta4_1).*cos(theta4_2)-omega4_2.*sin(theta4_1).*sin(theta4_2))+cos(theta4_2).*cos(theta4_3).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))).*(I4x.*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2)).^2+I4y.*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).^2+I4z.*cos(theta4_1).^2.*cos(theta4_2).^2);
et28 = -(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(-omega4_1.^2.*sin(theta4_1).*sin(theta4_3)-omega4_3.^2.*sin(theta4_1).*sin(theta4_3)+omega4_1.^2.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.^2.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_3.^2.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_1.*omega4_3.*cos(theta4_1).*cos(theta4_3).*2.0+omega4_1.*omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1).*2.0+omega4_2.*omega4_3.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3).*2.0-omega4_1.*omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3).*2.0);
et29 = -(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.^2.*cos(theta4_3).*sin(theta4_1)+omega4_3.^2.*cos(theta4_3).*sin(theta4_1)+omega4_1.^2.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.^2.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_3.^2.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_1.*omega4_3.*cos(theta4_1).*sin(theta4_3).*2.0-omega4_2.*omega4_3.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3).*2.0+omega4_1.*omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3).*2.0+omega4_1.*omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2).*2.0)+(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3));
et30 = cos(theta4_2).*sin(theta4_1).*(omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0)-omega4_2.*sin(theta4_1).*sin(theta4_2).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2))+omega4_1.*cos(theta4_1).*cos(theta4_2).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2));
et31 = (sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2)).*(omega4_2.^2.*cos(theta4_2).*cos(theta4_3)+omega4_3.^2.*cos(theta4_2).*cos(theta4_3)-omega4_2.*omega4_3.*sin(theta4_2).*sin(theta4_3).*2.0)-(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_2.^2.*cos(theta4_2).*sin(theta4_3)+omega4_3.^2.*cos(theta4_2).*sin(theta4_3)+omega4_2.*omega4_3.*cos(theta4_3).*sin(theta4_2).*2.0)+(omega4_2.*cos(theta4_3).*sin(theta4_2)+omega4_3.*cos(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3))+(omega4_3.*cos(theta4_2).*cos(theta4_3)-omega4_2.*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3));
et32 = omega4_1.*omega4_2.*cos(theta4_2).^2.*sin(theta4_1)+omega4_2.^2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_2).*2.0;
et33 = (I4x.*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+I4y.*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3))-I4z.*cos(theta4_1).*cos(theta4_2).^2.*sin(theta4_1)).*(et19+et20+et21)-(-sin(theta4_2).*(omega4_1.*cos(theta4_1).*cos(theta4_2)-omega4_2.*sin(theta4_1).*sin(theta4_2))+cos(theta4_2).*cos(theta4_3).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))).*(et22+et23+et24);
et34 = (et25+et26+et27).*((cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3))+(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_1).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2)))+(I4z.*cos(theta4_2).*sin(theta4_1).*sin(theta4_2)-I4x.*cos(theta4_2).*cos(theta4_3).*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3))).*(et28+et29+et30);
et35 = (I4x.*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).^2+I4y.*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).^2+I4z.*cos(theta4_2).^2.*sin(theta4_1).^2).*(et31+et32)-lg4.*m4.*sin(theta4_2).*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et36 = lg4.*m4.*cos(theta4_1).*cos(theta4_2).*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2));
et37 = -sin(theta4_2).*(omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0)+omega4_2.*cos(theta4_2).*(omega4_1.*cos(theta4_1).*cos(theta4_2)-omega4_2.*sin(theta4_1).*sin(theta4_2))+cos(theta4_2).*cos(theta4_3).*(omega4_1.^2.*cos(theta4_1).*sin(theta4_3)+omega4_3.^2.*cos(theta4_1).*sin(theta4_3)+omega4_1.^2.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_2.^2.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.^2.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_1.*omega4_3.*cos(theta4_3).*sin(theta4_1).*2.0-omega4_1.*omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3).*2.0+omega4_1.*omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3).*2.0+omega4_2.*omega4_3.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3).*2.0);
et38 = -cos(theta4_2).*sin(theta4_3).*(omega4_1.^2.*cos(theta4_1).*cos(theta4_3)+omega4_3.^2.*cos(theta4_1).*cos(theta4_3)-omega4_1.*omega4_3.*sin(theta4_1).*sin(theta4_3).*2.0-omega4_1.^2.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)-omega4_2.^2.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)-omega4_3.^2.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_1.*omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3).*2.0+omega4_1.*omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2).*2.0+omega4_2.*omega4_3.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1).*2.0)-omega4_3.*cos(theta4_2).*cos(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+omega4_2.*cos(theta4_3).*sin(theta4_2).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3));
et39 = omega4_3.*cos(theta4_2).*sin(theta4_3).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+omega4_2.*sin(theta4_2).*sin(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2));
et40 = ((cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3))+(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_1).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2))).*(I4z.*cos(theta4_1).*cos(theta4_2).*sin(theta4_2)+I4x.*cos(theta4_2).*cos(theta4_3).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))-I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)));
et41 = -((omega4_2.*cos(theta4_3).*sin(theta4_2)+omega4_3.*cos(theta4_2).*sin(theta4_3)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+(omega4_3.*cos(theta4_2).*cos(theta4_3)-omega4_2.*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3))-omega4_2.*cos(theta4_1).*cos(theta4_2).^2).*(I4x.*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+I4y.*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3))-I4z.*cos(theta4_1).*cos(theta4_2).^2.*sin(theta4_1));
et42 = (-sin(theta4_2).*(omega4_1.*cos(theta4_1).*cos(theta4_2)-omega4_2.*sin(theta4_1).*sin(theta4_2))+cos(theta4_2).*cos(theta4_3).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))).*(I4x.*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2)).^2+I4y.*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).^2+I4z.*cos(theta4_1).^2.*cos(theta4_2).^2);
et43 = ((omega4_2.*cos(theta4_3).*sin(theta4_2)+omega4_3.*cos(theta4_2).*sin(theta4_3)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+(omega4_3.*cos(theta4_2).*cos(theta4_3)-omega4_2.*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3))-omega4_2.*cos(theta4_1).*cos(theta4_2).^2).*(I4x.*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).^2+I4y.*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).^2+I4z.*cos(theta4_2).^2.*sin(theta4_1).^2);
et44 = ((cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3))+(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_1).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2))).*(I4z.*cos(theta4_2).*sin(theta4_1).*sin(theta4_2)-I4x.*cos(theta4_2).*cos(theta4_3).*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)));
et45 = -(-sin(theta4_2).*(omega4_1.*cos(theta4_1).*cos(theta4_2)-omega4_2.*sin(theta4_1).*sin(theta4_2))+cos(theta4_2).*cos(theta4_3).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))).*(I4x.*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+I4y.*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3))-I4z.*cos(theta4_1).*cos(theta4_2).^2.*sin(theta4_1));
et46 = (sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2)).*(omega4_2.^2.*cos(theta4_2).*cos(theta4_3)+omega4_3.^2.*cos(theta4_2).*cos(theta4_3)-omega4_2.*omega4_3.*sin(theta4_2).*sin(theta4_3).*2.0)-(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_2.^2.*cos(theta4_2).*sin(theta4_3)+omega4_3.^2.*cos(theta4_2).*sin(theta4_3)+omega4_2.*omega4_3.*cos(theta4_3).*sin(theta4_2).*2.0)+(omega4_2.*cos(theta4_3).*sin(theta4_2)+omega4_3.*cos(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3))+(omega4_3.*cos(theta4_2).*cos(theta4_3)-omega4_2.*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3));
et47 = omega4_1.*omega4_2.*cos(theta4_2).^2.*sin(theta4_1)+omega4_2.^2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_2).*2.0;
et48 = -(omega4_1.*cos(theta4_1).*cos(theta4_3)-omega4_3.*sin(theta4_1).*sin(theta4_3)+omega4_2.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3)+omega4_3.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)-omega4_1.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2)).*(-omega4_1.^2.*sin(theta4_1).*sin(theta4_3)-omega4_3.^2.*sin(theta4_1).*sin(theta4_3)+omega4_1.^2.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.^2.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_3.^2.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_1.*omega4_3.*cos(theta4_1).*cos(theta4_3).*2.0+omega4_1.*omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1).*2.0+omega4_2.*omega4_3.*cos(theta4_1).*cos(theta4_2).*sin(theta4_3).*2.0-omega4_1.*omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3).*2.0);
et49 = -(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_1.^2.*cos(theta4_3).*sin(theta4_1)+omega4_3.^2.*cos(theta4_3).*sin(theta4_1)+omega4_1.^2.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.^2.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_3.^2.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_1.*omega4_3.*cos(theta4_1).*sin(theta4_3).*2.0-omega4_2.*omega4_3.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3).*2.0+omega4_1.*omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3).*2.0+omega4_1.*omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2).*2.0)+(omega4_1.*cos(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1)-omega4_2.*cos(theta4_1).*cos(theta4_2).*cos(theta4_3)+omega4_1.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2)+omega4_3.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3));
et50 = cos(theta4_2).*sin(theta4_1).*(omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0)-omega4_2.*sin(theta4_1).*sin(theta4_2).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2))+omega4_1.*cos(theta4_1).*cos(theta4_2).*(omega4_1.*cos(theta4_2).*sin(theta4_1)+omega4_2.*cos(theta4_1).*sin(theta4_2));
et51 = (I4z.*cos(theta4_1).*cos(theta4_2).*sin(theta4_2)+I4x.*cos(theta4_2).*cos(theta4_3).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))-I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3))).*(et37+et38+et39)+((omega4_2.*cos(theta4_3).*sin(theta4_2)+omega4_3.*cos(theta4_2).*sin(theta4_3)).*(sin(theta4_1).*sin(theta4_3)-cos(theta4_1).*cos(theta4_3).*sin(theta4_2))+(omega4_3.*cos(theta4_2).*cos(theta4_3)-omega4_2.*sin(theta4_2).*sin(theta4_3)).*(cos(theta4_3).*sin(theta4_1)+cos(theta4_1).*sin(theta4_2).*sin(theta4_3))-omega4_2.*cos(theta4_1).*cos(theta4_2).^2).*(et40+et41+et42);
et52 = -(-sin(theta4_2).*(omega4_1.*cos(theta4_1).*cos(theta4_2)-omega4_2.*sin(theta4_1).*sin(theta4_2))+cos(theta4_2).*cos(theta4_3).*(omega4_3.*cos(theta4_1).*cos(theta4_3)-omega4_1.*sin(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*cos(theta4_3).*sin(theta4_2)+omega4_2.*cos(theta4_2).*cos(theta4_3).*sin(theta4_1)-omega4_3.*sin(theta4_1).*sin(theta4_2).*sin(theta4_3))+cos(theta4_2).*sin(theta4_3).*(omega4_1.*cos(theta4_3).*sin(theta4_1)+omega4_3.*cos(theta4_1).*sin(theta4_3)+omega4_1.*cos(theta4_1).*sin(theta4_2).*sin(theta4_3)+omega4_2.*cos(theta4_2).*sin(theta4_1).*sin(theta4_3)+omega4_3.*cos(theta4_3).*sin(theta4_1).*sin(theta4_2))).*(et43+et44+et45)-(I4z.*cos(theta4_2).*sin(theta4_1).*sin(theta4_2)-I4x.*cos(theta4_2).*cos(theta4_3).*(cos(theta4_1).*sin(theta4_3)+cos(theta4_3).*sin(theta4_1).*sin(theta4_2))+I4y.*cos(theta4_2).*sin(theta4_3).*(cos(theta4_1).*cos(theta4_3)-sin(theta4_1).*sin(theta4_2).*sin(theta4_3))).*(et46+et47);
et53 = -(I4z.*sin(theta4_2).^2+I4x.*cos(theta4_2).^2.*cos(theta4_3).^2+I4y.*cos(theta4_2).^2.*sin(theta4_3).^2).*(et48+et49+et50)-lg4.*m4.*cos(theta4_2).*sin(theta4_1).*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et54 = lg4.*m4.*cos(theta4_1).*cos(theta4_2).*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et55 = ((omega3_2.*cos(theta3_3).*sin(theta3_2)+omega3_3.*cos(theta3_2).*sin(theta3_3)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+(omega3_3.*cos(theta3_2).*cos(theta3_3)-omega3_2.*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3))-omega3_2.*cos(theta3_1).*cos(theta3_2).^2).*(I3x.*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).^2+I3y.*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).^2+I3z.*cos(theta3_2).^2.*sin(theta3_1).^2);
et56 = ((cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3))+(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_1).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2))).*(I3z.*cos(theta3_2).*sin(theta3_1).*sin(theta3_2)-I3x.*cos(theta3_2).*cos(theta3_3).*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)));
et57 = -(-sin(theta3_2).*(omega3_1.*cos(theta3_1).*cos(theta3_2)-omega3_2.*sin(theta3_1).*sin(theta3_2))+cos(theta3_2).*cos(theta3_3).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))).*(I3x.*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+I3y.*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3))-I3z.*cos(theta3_1).*cos(theta3_2).^2.*sin(theta3_1));
et58 = -sin(theta3_2).*(omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0)+omega3_2.*cos(theta3_2).*(omega3_1.*cos(theta3_1).*cos(theta3_2)-omega3_2.*sin(theta3_1).*sin(theta3_2))+cos(theta3_2).*cos(theta3_3).*(omega3_1.^2.*cos(theta3_1).*sin(theta3_3)+omega3_3.^2.*cos(theta3_1).*sin(theta3_3)+omega3_1.^2.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_2.^2.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.^2.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_1.*omega3_3.*cos(theta3_3).*sin(theta3_1).*2.0-omega3_1.*omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3).*2.0+omega3_1.*omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3).*2.0+omega3_2.*omega3_3.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3).*2.0);
et59 = -cos(theta3_2).*sin(theta3_3).*(omega3_1.^2.*cos(theta3_1).*cos(theta3_3)+omega3_3.^2.*cos(theta3_1).*cos(theta3_3)-omega3_1.*omega3_3.*sin(theta3_1).*sin(theta3_3).*2.0-omega3_1.^2.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)-omega3_2.^2.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)-omega3_3.^2.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_1.*omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3).*2.0+omega3_1.*omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2).*2.0+omega3_2.*omega3_3.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1).*2.0)-omega3_3.*cos(theta3_2).*cos(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+omega3_2.*cos(theta3_3).*sin(theta3_2).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3));
et60 = omega3_3.*cos(theta3_2).*sin(theta3_3).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+omega3_2.*sin(theta3_2).*sin(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2));
et61 = ((cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3))+(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_1).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2))).*(I3z.*sin(theta3_2).^2+I3x.*cos(theta3_2).^2.*cos(theta3_3).^2+I3y.*cos(theta3_2).^2.*sin(theta3_3).^2);
et62 = (-sin(theta3_2).*(omega3_1.*cos(theta3_1).*cos(theta3_2)-omega3_2.*sin(theta3_1).*sin(theta3_2))+cos(theta3_2).*cos(theta3_3).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))).*(I3z.*cos(theta3_1).*cos(theta3_2).*sin(theta3_2)+I3x.*cos(theta3_2).*cos(theta3_3).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))-I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)));
et63 = ((omega3_2.*cos(theta3_3).*sin(theta3_2)+omega3_3.*cos(theta3_2).*sin(theta3_3)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+(omega3_3.*cos(theta3_2).*cos(theta3_3)-omega3_2.*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3))-omega3_2.*cos(theta3_1).*cos(theta3_2).^2).*(I3z.*cos(theta3_2).*sin(theta3_1).*sin(theta3_2)-I3x.*cos(theta3_2).*cos(theta3_3).*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)));
et64 = (sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2)).*(omega3_2.^2.*cos(theta3_2).*cos(theta3_3)+omega3_3.^2.*cos(theta3_2).*cos(theta3_3)-omega3_2.*omega3_3.*sin(theta3_2).*sin(theta3_3).*2.0)-(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_2.^2.*cos(theta3_2).*sin(theta3_3)+omega3_3.^2.*cos(theta3_2).*sin(theta3_3)+omega3_2.*omega3_3.*cos(theta3_3).*sin(theta3_2).*2.0)+(omega3_2.*cos(theta3_3).*sin(theta3_2)+omega3_3.*cos(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3))+(omega3_3.*cos(theta3_2).*cos(theta3_3)-omega3_2.*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3));
et65 = omega3_1.*omega3_2.*cos(theta3_2).^2.*sin(theta3_1)+omega3_2.^2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_2).*2.0;
et66 = -(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(-omega3_1.^2.*sin(theta3_1).*sin(theta3_3)-omega3_3.^2.*sin(theta3_1).*sin(theta3_3)+omega3_1.^2.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.^2.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_3.^2.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_1.*omega3_3.*cos(theta3_1).*cos(theta3_3).*2.0+omega3_1.*omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1).*2.0+omega3_2.*omega3_3.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3).*2.0-omega3_1.*omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3).*2.0);
et67 = -(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.^2.*cos(theta3_3).*sin(theta3_1)+omega3_3.^2.*cos(theta3_3).*sin(theta3_1)+omega3_1.^2.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.^2.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_3.^2.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_1.*omega3_3.*cos(theta3_1).*sin(theta3_3).*2.0-omega3_2.*omega3_3.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3).*2.0+omega3_1.*omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3).*2.0+omega3_1.*omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2).*2.0)+(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3));
et68 = cos(theta3_2).*sin(theta3_1).*(omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0)-omega3_2.*sin(theta3_1).*sin(theta3_2).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2))+omega3_1.*cos(theta3_1).*cos(theta3_2).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2));
et69 = m3.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+lg3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+lg3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+lg3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0);
et70 = m4.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et71 = (et55+et56+et57).*((cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3))+(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_1).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2)))+(I3x.*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2)).^2+I3y.*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).^2+I3z.*cos(theta3_1).^2.*cos(theta3_2).^2).*(et58+et59+et60);
et72 = -((omega3_2.*cos(theta3_3).*sin(theta3_2)+omega3_3.*cos(theta3_2).*sin(theta3_3)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+(omega3_3.*cos(theta3_2).*cos(theta3_3)-omega3_2.*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3))-omega3_2.*cos(theta3_1).*cos(theta3_2).^2).*(et61+et62+et63)+(I3x.*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+I3y.*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3))-I3z.*cos(theta3_1).*cos(theta3_2).^2.*sin(theta3_1)).*(et64+et65);
et73 = -(I3z.*cos(theta3_1).*cos(theta3_2).*sin(theta3_2)+I3x.*cos(theta3_2).*cos(theta3_3).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))-I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3))).*(et66+et67+et68)+m4.*(l3.*cos(theta3_2).*sin(theta3_1)-lg3.*cos(theta3_2).*sin(theta3_1)).*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2));
et74 = -m4.*(l3.*sin(theta3_2)-lg3.*sin(theta3_2)).*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0)-lg3.*sin(theta3_2).*(et69+et70);
et75 = lg3.*cos(theta3_2).*sin(theta3_1).*(m4.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2))+m3.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+lg3.*omega3_2.^2.*sin(theta3_2)));
et76 = -sin(theta3_2).*(omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0)+omega3_2.*cos(theta3_2).*(omega3_1.*cos(theta3_1).*cos(theta3_2)-omega3_2.*sin(theta3_1).*sin(theta3_2))+cos(theta3_2).*cos(theta3_3).*(omega3_1.^2.*cos(theta3_1).*sin(theta3_3)+omega3_3.^2.*cos(theta3_1).*sin(theta3_3)+omega3_1.^2.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_2.^2.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.^2.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_1.*omega3_3.*cos(theta3_3).*sin(theta3_1).*2.0-omega3_1.*omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3).*2.0+omega3_1.*omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3).*2.0+omega3_2.*omega3_3.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3).*2.0);
et77 = -cos(theta3_2).*sin(theta3_3).*(omega3_1.^2.*cos(theta3_1).*cos(theta3_3)+omega3_3.^2.*cos(theta3_1).*cos(theta3_3)-omega3_1.*omega3_3.*sin(theta3_1).*sin(theta3_3).*2.0-omega3_1.^2.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)-omega3_2.^2.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)-omega3_3.^2.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_1.*omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3).*2.0+omega3_1.*omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2).*2.0+omega3_2.*omega3_3.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1).*2.0)-omega3_3.*cos(theta3_2).*cos(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+omega3_2.*cos(theta3_3).*sin(theta3_2).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3));
et78 = omega3_3.*cos(theta3_2).*sin(theta3_3).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+omega3_2.*sin(theta3_2).*sin(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2));
et79 = ((cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3))+(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_1).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2))).*(I3z.*sin(theta3_2).^2+I3x.*cos(theta3_2).^2.*cos(theta3_3).^2+I3y.*cos(theta3_2).^2.*sin(theta3_3).^2);
et80 = (-sin(theta3_2).*(omega3_1.*cos(theta3_1).*cos(theta3_2)-omega3_2.*sin(theta3_1).*sin(theta3_2))+cos(theta3_2).*cos(theta3_3).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))).*(I3z.*cos(theta3_1).*cos(theta3_2).*sin(theta3_2)+I3x.*cos(theta3_2).*cos(theta3_3).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))-I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)));
et81 = ((omega3_2.*cos(theta3_3).*sin(theta3_2)+omega3_3.*cos(theta3_2).*sin(theta3_3)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+(omega3_3.*cos(theta3_2).*cos(theta3_3)-omega3_2.*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3))-omega3_2.*cos(theta3_1).*cos(theta3_2).^2).*(I3z.*cos(theta3_2).*sin(theta3_1).*sin(theta3_2)-I3x.*cos(theta3_2).*cos(theta3_3).*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)));
et82 = ((cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3))+(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_1).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2))).*(I3z.*cos(theta3_1).*cos(theta3_2).*sin(theta3_2)+I3x.*cos(theta3_2).*cos(theta3_3).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))-I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)));
et83 = -((omega3_2.*cos(theta3_3).*sin(theta3_2)+omega3_3.*cos(theta3_2).*sin(theta3_3)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+(omega3_3.*cos(theta3_2).*cos(theta3_3)-omega3_2.*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3))-omega3_2.*cos(theta3_1).*cos(theta3_2).^2).*(I3x.*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+I3y.*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3))-I3z.*cos(theta3_1).*cos(theta3_2).^2.*sin(theta3_1));
et84 = (-sin(theta3_2).*(omega3_1.*cos(theta3_1).*cos(theta3_2)-omega3_2.*sin(theta3_1).*sin(theta3_2))+cos(theta3_2).*cos(theta3_3).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))).*(I3x.*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2)).^2+I3y.*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).^2+I3z.*cos(theta3_1).^2.*cos(theta3_2).^2);
et85 = -(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(-omega3_1.^2.*sin(theta3_1).*sin(theta3_3)-omega3_3.^2.*sin(theta3_1).*sin(theta3_3)+omega3_1.^2.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.^2.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_3.^2.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_1.*omega3_3.*cos(theta3_1).*cos(theta3_3).*2.0+omega3_1.*omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1).*2.0+omega3_2.*omega3_3.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3).*2.0-omega3_1.*omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3).*2.0);
et86 = -(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.^2.*cos(theta3_3).*sin(theta3_1)+omega3_3.^2.*cos(theta3_3).*sin(theta3_1)+omega3_1.^2.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.^2.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_3.^2.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_1.*omega3_3.*cos(theta3_1).*sin(theta3_3).*2.0-omega3_2.*omega3_3.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3).*2.0+omega3_1.*omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3).*2.0+omega3_1.*omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2).*2.0)+(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3));
et87 = cos(theta3_2).*sin(theta3_1).*(omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0)-omega3_2.*sin(theta3_1).*sin(theta3_2).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2))+omega3_1.*cos(theta3_1).*cos(theta3_2).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2));
et88 = (sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2)).*(omega3_2.^2.*cos(theta3_2).*cos(theta3_3)+omega3_3.^2.*cos(theta3_2).*cos(theta3_3)-omega3_2.*omega3_3.*sin(theta3_2).*sin(theta3_3).*2.0)-(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_2.^2.*cos(theta3_2).*sin(theta3_3)+omega3_3.^2.*cos(theta3_2).*sin(theta3_3)+omega3_2.*omega3_3.*cos(theta3_3).*sin(theta3_2).*2.0)+(omega3_2.*cos(theta3_3).*sin(theta3_2)+omega3_3.*cos(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3))+(omega3_3.*cos(theta3_2).*cos(theta3_3)-omega3_2.*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3));
et89 = omega3_1.*omega3_2.*cos(theta3_2).^2.*sin(theta3_1)+omega3_2.^2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_2).*2.0;
et90 = m3.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+lg3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+lg3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-lg3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0);
et91 = m4.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et92 = (I3x.*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+I3y.*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3))-I3z.*cos(theta3_1).*cos(theta3_2).^2.*sin(theta3_1)).*(et76+et77+et78)-(-sin(theta3_2).*(omega3_1.*cos(theta3_1).*cos(theta3_2)-omega3_2.*sin(theta3_1).*sin(theta3_2))+cos(theta3_2).*cos(theta3_3).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))).*(et79+et80+et81);
et93 = (et82+et83+et84).*((cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3))+(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_1).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2)))+(I3z.*cos(theta3_2).*sin(theta3_1).*sin(theta3_2)-I3x.*cos(theta3_2).*cos(theta3_3).*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3))).*(et85+et86+et87);
et94 = (I3x.*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).^2+I3y.*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).^2+I3z.*cos(theta3_2).^2.*sin(theta3_1).^2).*(et88+et89)-m4.*(l3.*sin(theta3_2)-lg3.*sin(theta3_2)).*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et95 = m4.*(l3.*cos(theta3_1).*cos(theta3_2)-lg3.*cos(theta3_1).*cos(theta3_2)).*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2))-lg3.*sin(theta3_2).*(et90+et91)+lg3.*cos(theta3_1).*cos(theta3_2).*(m4.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2))+m3.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+lg3.*omega3_2.^2.*sin(theta3_2)));
et96 = -sin(theta3_2).*(omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0)+omega3_2.*cos(theta3_2).*(omega3_1.*cos(theta3_1).*cos(theta3_2)-omega3_2.*sin(theta3_1).*sin(theta3_2))+cos(theta3_2).*cos(theta3_3).*(omega3_1.^2.*cos(theta3_1).*sin(theta3_3)+omega3_3.^2.*cos(theta3_1).*sin(theta3_3)+omega3_1.^2.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_2.^2.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.^2.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_1.*omega3_3.*cos(theta3_3).*sin(theta3_1).*2.0-omega3_1.*omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3).*2.0+omega3_1.*omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3).*2.0+omega3_2.*omega3_3.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3).*2.0);
et97 = -cos(theta3_2).*sin(theta3_3).*(omega3_1.^2.*cos(theta3_1).*cos(theta3_3)+omega3_3.^2.*cos(theta3_1).*cos(theta3_3)-omega3_1.*omega3_3.*sin(theta3_1).*sin(theta3_3).*2.0-omega3_1.^2.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)-omega3_2.^2.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)-omega3_3.^2.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_1.*omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3).*2.0+omega3_1.*omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2).*2.0+omega3_2.*omega3_3.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1).*2.0)-omega3_3.*cos(theta3_2).*cos(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+omega3_2.*cos(theta3_3).*sin(theta3_2).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3));
et98 = omega3_3.*cos(theta3_2).*sin(theta3_3).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+omega3_2.*sin(theta3_2).*sin(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2));
et99 = ((cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3))+(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_1).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2))).*(I3z.*cos(theta3_1).*cos(theta3_2).*sin(theta3_2)+I3x.*cos(theta3_2).*cos(theta3_3).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))-I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)));
et100 = -((omega3_2.*cos(theta3_3).*sin(theta3_2)+omega3_3.*cos(theta3_2).*sin(theta3_3)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+(omega3_3.*cos(theta3_2).*cos(theta3_3)-omega3_2.*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3))-omega3_2.*cos(theta3_1).*cos(theta3_2).^2).*(I3x.*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+I3y.*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3))-I3z.*cos(theta3_1).*cos(theta3_2).^2.*sin(theta3_1));
et101 = (-sin(theta3_2).*(omega3_1.*cos(theta3_1).*cos(theta3_2)-omega3_2.*sin(theta3_1).*sin(theta3_2))+cos(theta3_2).*cos(theta3_3).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))).*(I3x.*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2)).^2+I3y.*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).^2+I3z.*cos(theta3_1).^2.*cos(theta3_2).^2);
et102 = ((omega3_2.*cos(theta3_3).*sin(theta3_2)+omega3_3.*cos(theta3_2).*sin(theta3_3)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+(omega3_3.*cos(theta3_2).*cos(theta3_3)-omega3_2.*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3))-omega3_2.*cos(theta3_1).*cos(theta3_2).^2).*(I3x.*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).^2+I3y.*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).^2+I3z.*cos(theta3_2).^2.*sin(theta3_1).^2);
et103 = ((cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3))+(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_1).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2))).*(I3z.*cos(theta3_2).*sin(theta3_1).*sin(theta3_2)-I3x.*cos(theta3_2).*cos(theta3_3).*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)));
et104 = -(-sin(theta3_2).*(omega3_1.*cos(theta3_1).*cos(theta3_2)-omega3_2.*sin(theta3_1).*sin(theta3_2))+cos(theta3_2).*cos(theta3_3).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))).*(I3x.*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+I3y.*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3))-I3z.*cos(theta3_1).*cos(theta3_2).^2.*sin(theta3_1));
et105 = (sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2)).*(omega3_2.^2.*cos(theta3_2).*cos(theta3_3)+omega3_3.^2.*cos(theta3_2).*cos(theta3_3)-omega3_2.*omega3_3.*sin(theta3_2).*sin(theta3_3).*2.0)-(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_2.^2.*cos(theta3_2).*sin(theta3_3)+omega3_3.^2.*cos(theta3_2).*sin(theta3_3)+omega3_2.*omega3_3.*cos(theta3_3).*sin(theta3_2).*2.0)+(omega3_2.*cos(theta3_3).*sin(theta3_2)+omega3_3.*cos(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3))+(omega3_3.*cos(theta3_2).*cos(theta3_3)-omega3_2.*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3));
et106 = omega3_1.*omega3_2.*cos(theta3_2).^2.*sin(theta3_1)+omega3_2.^2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_2).*2.0;
et107 = -(omega3_1.*cos(theta3_1).*cos(theta3_3)-omega3_3.*sin(theta3_1).*sin(theta3_3)+omega3_2.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3)+omega3_3.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)-omega3_1.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2)).*(-omega3_1.^2.*sin(theta3_1).*sin(theta3_3)-omega3_3.^2.*sin(theta3_1).*sin(theta3_3)+omega3_1.^2.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.^2.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_3.^2.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_1.*omega3_3.*cos(theta3_1).*cos(theta3_3).*2.0+omega3_1.*omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1).*2.0+omega3_2.*omega3_3.*cos(theta3_1).*cos(theta3_2).*sin(theta3_3).*2.0-omega3_1.*omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3).*2.0);
et108 = -(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_1.^2.*cos(theta3_3).*sin(theta3_1)+omega3_3.^2.*cos(theta3_3).*sin(theta3_1)+omega3_1.^2.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.^2.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_3.^2.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_1.*omega3_3.*cos(theta3_1).*sin(theta3_3).*2.0-omega3_2.*omega3_3.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3).*2.0+omega3_1.*omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3).*2.0+omega3_1.*omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2).*2.0)+(omega3_1.*cos(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1)-omega3_2.*cos(theta3_1).*cos(theta3_2).*cos(theta3_3)+omega3_1.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2)+omega3_3.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3));
et109 = cos(theta3_2).*sin(theta3_1).*(omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0)-omega3_2.*sin(theta3_1).*sin(theta3_2).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2))+omega3_1.*cos(theta3_1).*cos(theta3_2).*(omega3_1.*cos(theta3_2).*sin(theta3_1)+omega3_2.*cos(theta3_1).*sin(theta3_2));
et110 = m3.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+lg3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+lg3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-lg3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0);
et111 = m4.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et112 = m3.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+lg3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+lg3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+lg3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0);
et113 = m4.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et114 = (I3z.*cos(theta3_1).*cos(theta3_2).*sin(theta3_2)+I3x.*cos(theta3_2).*cos(theta3_3).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))-I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3))).*(et96+et97+et98)+((omega3_2.*cos(theta3_3).*sin(theta3_2)+omega3_3.*cos(theta3_2).*sin(theta3_3)).*(sin(theta3_1).*sin(theta3_3)-cos(theta3_1).*cos(theta3_3).*sin(theta3_2))+(omega3_3.*cos(theta3_2).*cos(theta3_3)-omega3_2.*sin(theta3_2).*sin(theta3_3)).*(cos(theta3_3).*sin(theta3_1)+cos(theta3_1).*sin(theta3_2).*sin(theta3_3))-omega3_2.*cos(theta3_1).*cos(theta3_2).^2).*(et99+et100+et101);
et115 = -(-sin(theta3_2).*(omega3_1.*cos(theta3_1).*cos(theta3_2)-omega3_2.*sin(theta3_1).*sin(theta3_2))+cos(theta3_2).*cos(theta3_3).*(omega3_3.*cos(theta3_1).*cos(theta3_3)-omega3_1.*sin(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*cos(theta3_3).*sin(theta3_2)+omega3_2.*cos(theta3_2).*cos(theta3_3).*sin(theta3_1)-omega3_3.*sin(theta3_1).*sin(theta3_2).*sin(theta3_3))+cos(theta3_2).*sin(theta3_3).*(omega3_1.*cos(theta3_3).*sin(theta3_1)+omega3_3.*cos(theta3_1).*sin(theta3_3)+omega3_1.*cos(theta3_1).*sin(theta3_2).*sin(theta3_3)+omega3_2.*cos(theta3_2).*sin(theta3_1).*sin(theta3_3)+omega3_3.*cos(theta3_3).*sin(theta3_1).*sin(theta3_2))).*(et102+et103+et104)-(I3z.*cos(theta3_2).*sin(theta3_1).*sin(theta3_2)-I3x.*cos(theta3_2).*cos(theta3_3).*(cos(theta3_1).*sin(theta3_3)+cos(theta3_3).*sin(theta3_1).*sin(theta3_2))+I3y.*cos(theta3_2).*sin(theta3_3).*(cos(theta3_1).*cos(theta3_3)-sin(theta3_1).*sin(theta3_2).*sin(theta3_3))).*(et105+et106);
et116 = -(I3z.*sin(theta3_2).^2+I3x.*cos(theta3_2).^2.*cos(theta3_3).^2+I3y.*cos(theta3_2).^2.*sin(theta3_3).^2).*(et107+et108+et109)+m4.*(l3.*cos(theta3_1).*cos(theta3_2)-lg3.*cos(theta3_1).*cos(theta3_2)).*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et117 = -m4.*(l3.*cos(theta3_2).*sin(theta3_1)-lg3.*cos(theta3_2).*sin(theta3_1)).*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0)-lg3.*cos(theta3_2).*sin(theta3_1).*(et110+et111)+lg3.*cos(theta3_1).*cos(theta3_2).*(et112+et113);
et118 = ((omega2_2.*cos(theta2_3).*sin(theta2_2)+omega2_3.*cos(theta2_2).*sin(theta2_3)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+(omega2_3.*cos(theta2_2).*cos(theta2_3)-omega2_2.*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3))-omega2_2.*cos(theta2_1).*cos(theta2_2).^2).*(I2x.*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).^2+I2y.*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).^2+I2z.*cos(theta2_2).^2.*sin(theta2_1).^2);
et119 = ((cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3))+(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_1).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2))).*(I2z.*cos(theta2_2).*sin(theta2_1).*sin(theta2_2)-I2x.*cos(theta2_2).*cos(theta2_3).*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)));
et120 = -(-sin(theta2_2).*(omega2_1.*cos(theta2_1).*cos(theta2_2)-omega2_2.*sin(theta2_1).*sin(theta2_2))+cos(theta2_2).*cos(theta2_3).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))).*(I2x.*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+I2y.*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3))-I2z.*cos(theta2_1).*cos(theta2_2).^2.*sin(theta2_1));
et121 = m3.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+lg3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+lg3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+lg3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0);
et122 = m4.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et123 = -sin(theta2_2).*(omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0)+omega2_2.*cos(theta2_2).*(omega2_1.*cos(theta2_1).*cos(theta2_2)-omega2_2.*sin(theta2_1).*sin(theta2_2))+cos(theta2_2).*cos(theta2_3).*(omega2_1.^2.*cos(theta2_1).*sin(theta2_3)+omega2_3.^2.*cos(theta2_1).*sin(theta2_3)+omega2_1.^2.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_2.^2.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.^2.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_1.*omega2_3.*cos(theta2_3).*sin(theta2_1).*2.0-omega2_1.*omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3).*2.0+omega2_1.*omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3).*2.0+omega2_2.*omega2_3.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3).*2.0);
et124 = -cos(theta2_2).*sin(theta2_3).*(omega2_1.^2.*cos(theta2_1).*cos(theta2_3)+omega2_3.^2.*cos(theta2_1).*cos(theta2_3)-omega2_1.*omega2_3.*sin(theta2_1).*sin(theta2_3).*2.0-omega2_1.^2.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)-omega2_2.^2.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)-omega2_3.^2.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_1.*omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3).*2.0+omega2_1.*omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2).*2.0+omega2_2.*omega2_3.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1).*2.0)-omega2_3.*cos(theta2_2).*cos(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+omega2_2.*cos(theta2_3).*sin(theta2_2).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3));
et125 = omega2_3.*cos(theta2_2).*sin(theta2_3).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+omega2_2.*sin(theta2_2).*sin(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2));
et126 = ((cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3))+(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_1).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2))).*(I2z.*sin(theta2_2).^2+I2x.*cos(theta2_2).^2.*cos(theta2_3).^2+I2y.*cos(theta2_2).^2.*sin(theta2_3).^2);
et127 = (-sin(theta2_2).*(omega2_1.*cos(theta2_1).*cos(theta2_2)-omega2_2.*sin(theta2_1).*sin(theta2_2))+cos(theta2_2).*cos(theta2_3).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))).*(I2z.*cos(theta2_1).*cos(theta2_2).*sin(theta2_2)+I2x.*cos(theta2_2).*cos(theta2_3).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))-I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)));
et128 = ((omega2_2.*cos(theta2_3).*sin(theta2_2)+omega2_3.*cos(theta2_2).*sin(theta2_3)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+(omega2_3.*cos(theta2_2).*cos(theta2_3)-omega2_2.*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3))-omega2_2.*cos(theta2_1).*cos(theta2_2).^2).*(I2z.*cos(theta2_2).*sin(theta2_1).*sin(theta2_2)-I2x.*cos(theta2_2).*cos(theta2_3).*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)));
et129 = (sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2)).*(omega2_2.^2.*cos(theta2_2).*cos(theta2_3)+omega2_3.^2.*cos(theta2_2).*cos(theta2_3)-omega2_2.*omega2_3.*sin(theta2_2).*sin(theta2_3).*2.0)-(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_2.^2.*cos(theta2_2).*sin(theta2_3)+omega2_3.^2.*cos(theta2_2).*sin(theta2_3)+omega2_2.*omega2_3.*cos(theta2_3).*sin(theta2_2).*2.0)+(omega2_2.*cos(theta2_3).*sin(theta2_2)+omega2_3.*cos(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3))+(omega2_3.*cos(theta2_2).*cos(theta2_3)-omega2_2.*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3));
et130 = omega2_1.*omega2_2.*cos(theta2_2).^2.*sin(theta2_1)+omega2_2.^2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_2).*2.0;
et131 = -(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(-omega2_1.^2.*sin(theta2_1).*sin(theta2_3)-omega2_3.^2.*sin(theta2_1).*sin(theta2_3)+omega2_1.^2.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.^2.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_3.^2.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_1.*omega2_3.*cos(theta2_1).*cos(theta2_3).*2.0+omega2_1.*omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1).*2.0+omega2_2.*omega2_3.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3).*2.0-omega2_1.*omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3).*2.0);
et132 = -(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.^2.*cos(theta2_3).*sin(theta2_1)+omega2_3.^2.*cos(theta2_3).*sin(theta2_1)+omega2_1.^2.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.^2.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_3.^2.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_1.*omega2_3.*cos(theta2_1).*sin(theta2_3).*2.0-omega2_2.*omega2_3.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3).*2.0+omega2_1.*omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3).*2.0+omega2_1.*omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2).*2.0)+(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3));
et133 = cos(theta2_2).*sin(theta2_1).*(omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+omega2_2.^2.*cos(theta2_1).*cos(theta2_2)-omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0)-omega2_2.*sin(theta2_1).*sin(theta2_2).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2))+omega2_1.*cos(theta2_1).*cos(theta2_2).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2));
et134 = m2.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+lg2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+lg2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+lg2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0)+m3.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+lg3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+lg3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+lg3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0);
et135 = m4.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et136 = (et118+et119+et120).*((cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3))+(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_1).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2)))-(l2.*sin(theta2_2)-lg2.*sin(theta2_2)).*(et121+et122);
et137 = (I2x.*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2)).^2+I2y.*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).^2+I2z.*cos(theta2_1).^2.*cos(theta2_2).^2).*(et123+et124+et125)-((omega2_2.*cos(theta2_3).*sin(theta2_2)+omega2_3.*cos(theta2_2).*sin(theta2_3)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+(omega2_3.*cos(theta2_2).*cos(theta2_3)-omega2_2.*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3))-omega2_2.*cos(theta2_1).*cos(theta2_2).^2).*(et126+et127+et128);
et138 = (I2x.*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+I2y.*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3))-I2z.*cos(theta2_1).*cos(theta2_2).^2.*sin(theta2_1)).*(et129+et130)+(l2.*cos(theta2_2).*sin(theta2_1)-lg2.*cos(theta2_2).*sin(theta2_1)).*(m4.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2))+m3.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+lg3.*omega3_2.^2.*sin(theta3_2)));
et139 = -(I2z.*cos(theta2_1).*cos(theta2_2).*sin(theta2_2)+I2x.*cos(theta2_2).*cos(theta2_3).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))-I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3))).*(et131+et132+et133)-lg2.*sin(theta2_2).*(et134+et135)+lg2.*cos(theta2_2).*sin(theta2_1).*(m2.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+lg2.*omega2_2.^2.*sin(theta2_2))+m4.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2))+m3.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+lg3.*omega3_2.^2.*sin(theta3_2)));
et140 = -sin(theta2_2).*(omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0)+omega2_2.*cos(theta2_2).*(omega2_1.*cos(theta2_1).*cos(theta2_2)-omega2_2.*sin(theta2_1).*sin(theta2_2))+cos(theta2_2).*cos(theta2_3).*(omega2_1.^2.*cos(theta2_1).*sin(theta2_3)+omega2_3.^2.*cos(theta2_1).*sin(theta2_3)+omega2_1.^2.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_2.^2.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.^2.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_1.*omega2_3.*cos(theta2_3).*sin(theta2_1).*2.0-omega2_1.*omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3).*2.0+omega2_1.*omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3).*2.0+omega2_2.*omega2_3.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3).*2.0);
et141 = -cos(theta2_2).*sin(theta2_3).*(omega2_1.^2.*cos(theta2_1).*cos(theta2_3)+omega2_3.^2.*cos(theta2_1).*cos(theta2_3)-omega2_1.*omega2_3.*sin(theta2_1).*sin(theta2_3).*2.0-omega2_1.^2.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)-omega2_2.^2.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)-omega2_3.^2.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_1.*omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3).*2.0+omega2_1.*omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2).*2.0+omega2_2.*omega2_3.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1).*2.0)-omega2_3.*cos(theta2_2).*cos(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+omega2_2.*cos(theta2_3).*sin(theta2_2).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3));
et142 = omega2_3.*cos(theta2_2).*sin(theta2_3).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+omega2_2.*sin(theta2_2).*sin(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2));
et143 = ((cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3))+(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_1).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2))).*(I2z.*sin(theta2_2).^2+I2x.*cos(theta2_2).^2.*cos(theta2_3).^2+I2y.*cos(theta2_2).^2.*sin(theta2_3).^2);
et144 = (-sin(theta2_2).*(omega2_1.*cos(theta2_1).*cos(theta2_2)-omega2_2.*sin(theta2_1).*sin(theta2_2))+cos(theta2_2).*cos(theta2_3).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))).*(I2z.*cos(theta2_1).*cos(theta2_2).*sin(theta2_2)+I2x.*cos(theta2_2).*cos(theta2_3).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))-I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)));
et145 = ((omega2_2.*cos(theta2_3).*sin(theta2_2)+omega2_3.*cos(theta2_2).*sin(theta2_3)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+(omega2_3.*cos(theta2_2).*cos(theta2_3)-omega2_2.*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3))-omega2_2.*cos(theta2_1).*cos(theta2_2).^2).*(I2z.*cos(theta2_2).*sin(theta2_1).*sin(theta2_2)-I2x.*cos(theta2_2).*cos(theta2_3).*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)));
et146 = ((cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3))+(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_1).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2))).*(I2z.*cos(theta2_1).*cos(theta2_2).*sin(theta2_2)+I2x.*cos(theta2_2).*cos(theta2_3).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))-I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)));
et147 = -((omega2_2.*cos(theta2_3).*sin(theta2_2)+omega2_3.*cos(theta2_2).*sin(theta2_3)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+(omega2_3.*cos(theta2_2).*cos(theta2_3)-omega2_2.*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3))-omega2_2.*cos(theta2_1).*cos(theta2_2).^2).*(I2x.*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+I2y.*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3))-I2z.*cos(theta2_1).*cos(theta2_2).^2.*sin(theta2_1));
et148 = (-sin(theta2_2).*(omega2_1.*cos(theta2_1).*cos(theta2_2)-omega2_2.*sin(theta2_1).*sin(theta2_2))+cos(theta2_2).*cos(theta2_3).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))).*(I2x.*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2)).^2+I2y.*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).^2+I2z.*cos(theta2_1).^2.*cos(theta2_2).^2);
et149 = -(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(-omega2_1.^2.*sin(theta2_1).*sin(theta2_3)-omega2_3.^2.*sin(theta2_1).*sin(theta2_3)+omega2_1.^2.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.^2.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_3.^2.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_1.*omega2_3.*cos(theta2_1).*cos(theta2_3).*2.0+omega2_1.*omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1).*2.0+omega2_2.*omega2_3.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3).*2.0-omega2_1.*omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3).*2.0);
et150 = -(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.^2.*cos(theta2_3).*sin(theta2_1)+omega2_3.^2.*cos(theta2_3).*sin(theta2_1)+omega2_1.^2.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.^2.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_3.^2.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_1.*omega2_3.*cos(theta2_1).*sin(theta2_3).*2.0-omega2_2.*omega2_3.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3).*2.0+omega2_1.*omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3).*2.0+omega2_1.*omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2).*2.0)+(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3));
et151 = cos(theta2_2).*sin(theta2_1).*(omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+omega2_2.^2.*cos(theta2_1).*cos(theta2_2)-omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0)-omega2_2.*sin(theta2_1).*sin(theta2_2).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2))+omega2_1.*cos(theta2_1).*cos(theta2_2).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2));
et152 = m3.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+lg3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+lg3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-lg3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0);
et153 = m4.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et154 = (sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2)).*(omega2_2.^2.*cos(theta2_2).*cos(theta2_3)+omega2_3.^2.*cos(theta2_2).*cos(theta2_3)-omega2_2.*omega2_3.*sin(theta2_2).*sin(theta2_3).*2.0)-(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_2.^2.*cos(theta2_2).*sin(theta2_3)+omega2_3.^2.*cos(theta2_2).*sin(theta2_3)+omega2_2.*omega2_3.*cos(theta2_3).*sin(theta2_2).*2.0)+(omega2_2.*cos(theta2_3).*sin(theta2_2)+omega2_3.*cos(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3))+(omega2_3.*cos(theta2_2).*cos(theta2_3)-omega2_2.*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3));
et155 = omega2_1.*omega2_2.*cos(theta2_2).^2.*sin(theta2_1)+omega2_2.^2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_2).*2.0;
et156 = m2.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+lg2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+lg2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-lg2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0)+m3.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+lg3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+lg3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-lg3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0);
et157 = m4.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et158 = (I2x.*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+I2y.*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3))-I2z.*cos(theta2_1).*cos(theta2_2).^2.*sin(theta2_1)).*(et140+et141+et142)-(-sin(theta2_2).*(omega2_1.*cos(theta2_1).*cos(theta2_2)-omega2_2.*sin(theta2_1).*sin(theta2_2))+cos(theta2_2).*cos(theta2_3).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))).*(et143+et144+et145);
et159 = (l2.*cos(theta2_1).*cos(theta2_2)-lg2.*cos(theta2_1).*cos(theta2_2)).*(m4.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2))+m3.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+lg3.*omega3_2.^2.*sin(theta3_2)));
et160 = (et146+et147+et148).*((cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3))+(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_1).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2)))+(I2z.*cos(theta2_2).*sin(theta2_1).*sin(theta2_2)-I2x.*cos(theta2_2).*cos(theta2_3).*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3))).*(et149+et150+et151);
et161 = -(et152+et153).*(l2.*sin(theta2_2)-lg2.*sin(theta2_2))+(I2x.*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).^2+I2y.*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).^2+I2z.*cos(theta2_2).^2.*sin(theta2_1).^2).*(et154+et155)-lg2.*sin(theta2_2).*(et156+et157)+lg2.*cos(theta2_1).*cos(theta2_2).*(m2.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+lg2.*omega2_2.^2.*sin(theta2_2))+m4.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2))+m3.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+lg3.*omega3_2.^2.*sin(theta3_2)));
et162 = -sin(theta2_2).*(omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0)+omega2_2.*cos(theta2_2).*(omega2_1.*cos(theta2_1).*cos(theta2_2)-omega2_2.*sin(theta2_1).*sin(theta2_2))+cos(theta2_2).*cos(theta2_3).*(omega2_1.^2.*cos(theta2_1).*sin(theta2_3)+omega2_3.^2.*cos(theta2_1).*sin(theta2_3)+omega2_1.^2.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_2.^2.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.^2.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_1.*omega2_3.*cos(theta2_3).*sin(theta2_1).*2.0-omega2_1.*omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3).*2.0+omega2_1.*omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3).*2.0+omega2_2.*omega2_3.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3).*2.0);
et163 = -cos(theta2_2).*sin(theta2_3).*(omega2_1.^2.*cos(theta2_1).*cos(theta2_3)+omega2_3.^2.*cos(theta2_1).*cos(theta2_3)-omega2_1.*omega2_3.*sin(theta2_1).*sin(theta2_3).*2.0-omega2_1.^2.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)-omega2_2.^2.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)-omega2_3.^2.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_1.*omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3).*2.0+omega2_1.*omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2).*2.0+omega2_2.*omega2_3.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1).*2.0)-omega2_3.*cos(theta2_2).*cos(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+omega2_2.*cos(theta2_3).*sin(theta2_2).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3));
et164 = omega2_3.*cos(theta2_2).*sin(theta2_3).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+omega2_2.*sin(theta2_2).*sin(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2));
et165 = ((cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3))+(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_1).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2))).*(I2z.*cos(theta2_1).*cos(theta2_2).*sin(theta2_2)+I2x.*cos(theta2_2).*cos(theta2_3).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))-I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)));
et166 = -((omega2_2.*cos(theta2_3).*sin(theta2_2)+omega2_3.*cos(theta2_2).*sin(theta2_3)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+(omega2_3.*cos(theta2_2).*cos(theta2_3)-omega2_2.*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3))-omega2_2.*cos(theta2_1).*cos(theta2_2).^2).*(I2x.*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+I2y.*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3))-I2z.*cos(theta2_1).*cos(theta2_2).^2.*sin(theta2_1));
et167 = (-sin(theta2_2).*(omega2_1.*cos(theta2_1).*cos(theta2_2)-omega2_2.*sin(theta2_1).*sin(theta2_2))+cos(theta2_2).*cos(theta2_3).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))).*(I2x.*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2)).^2+I2y.*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).^2+I2z.*cos(theta2_1).^2.*cos(theta2_2).^2);
et168 = m3.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+lg3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+lg3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-lg3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0);
et169 = m4.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et170 = m3.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+lg3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+lg3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+lg3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0);
et171 = m4.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et172 = ((omega2_2.*cos(theta2_3).*sin(theta2_2)+omega2_3.*cos(theta2_2).*sin(theta2_3)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+(omega2_3.*cos(theta2_2).*cos(theta2_3)-omega2_2.*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3))-omega2_2.*cos(theta2_1).*cos(theta2_2).^2).*(I2x.*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).^2+I2y.*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).^2+I2z.*cos(theta2_2).^2.*sin(theta2_1).^2);
et173 = ((cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3))+(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_1).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2))).*(I2z.*cos(theta2_2).*sin(theta2_1).*sin(theta2_2)-I2x.*cos(theta2_2).*cos(theta2_3).*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)));
et174 = -(-sin(theta2_2).*(omega2_1.*cos(theta2_1).*cos(theta2_2)-omega2_2.*sin(theta2_1).*sin(theta2_2))+cos(theta2_2).*cos(theta2_3).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))).*(I2x.*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+I2y.*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3))-I2z.*cos(theta2_1).*cos(theta2_2).^2.*sin(theta2_1));
et175 = (sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2)).*(omega2_2.^2.*cos(theta2_2).*cos(theta2_3)+omega2_3.^2.*cos(theta2_2).*cos(theta2_3)-omega2_2.*omega2_3.*sin(theta2_2).*sin(theta2_3).*2.0)-(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_2.^2.*cos(theta2_2).*sin(theta2_3)+omega2_3.^2.*cos(theta2_2).*sin(theta2_3)+omega2_2.*omega2_3.*cos(theta2_3).*sin(theta2_2).*2.0)+(omega2_2.*cos(theta2_3).*sin(theta2_2)+omega2_3.*cos(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3))+(omega2_3.*cos(theta2_2).*cos(theta2_3)-omega2_2.*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3));
et176 = omega2_1.*omega2_2.*cos(theta2_2).^2.*sin(theta2_1)+omega2_2.^2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_2).*2.0;
et177 = -(omega2_1.*cos(theta2_1).*cos(theta2_3)-omega2_3.*sin(theta2_1).*sin(theta2_3)+omega2_2.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3)+omega2_3.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)-omega2_1.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2)).*(-omega2_1.^2.*sin(theta2_1).*sin(theta2_3)-omega2_3.^2.*sin(theta2_1).*sin(theta2_3)+omega2_1.^2.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.^2.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_3.^2.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_1.*omega2_3.*cos(theta2_1).*cos(theta2_3).*2.0+omega2_1.*omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1).*2.0+omega2_2.*omega2_3.*cos(theta2_1).*cos(theta2_2).*sin(theta2_3).*2.0-omega2_1.*omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3).*2.0);
et178 = -(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_1.^2.*cos(theta2_3).*sin(theta2_1)+omega2_3.^2.*cos(theta2_3).*sin(theta2_1)+omega2_1.^2.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.^2.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_3.^2.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_1.*omega2_3.*cos(theta2_1).*sin(theta2_3).*2.0-omega2_2.*omega2_3.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3).*2.0+omega2_1.*omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3).*2.0+omega2_1.*omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2).*2.0)+(omega2_1.*cos(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1)-omega2_2.*cos(theta2_1).*cos(theta2_2).*cos(theta2_3)+omega2_1.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2)+omega2_3.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3));
et179 = cos(theta2_2).*sin(theta2_1).*(omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+omega2_2.^2.*cos(theta2_1).*cos(theta2_2)-omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0)-omega2_2.*sin(theta2_1).*sin(theta2_2).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2))+omega2_1.*cos(theta2_1).*cos(theta2_2).*(omega2_1.*cos(theta2_2).*sin(theta2_1)+omega2_2.*cos(theta2_1).*sin(theta2_2));
et180 = m2.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+lg2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+lg2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+lg2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0)+m3.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+lg3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+lg3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+lg3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0);
et181 = m4.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et182 = m2.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+lg2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+lg2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-lg2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0)+m3.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+lg3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+lg3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-lg3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0);
et183 = m4.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et184 = (I2z.*cos(theta2_1).*cos(theta2_2).*sin(theta2_2)+I2x.*cos(theta2_2).*cos(theta2_3).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))-I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3))).*(et162+et163+et164)+((omega2_2.*cos(theta2_3).*sin(theta2_2)+omega2_3.*cos(theta2_2).*sin(theta2_3)).*(sin(theta2_1).*sin(theta2_3)-cos(theta2_1).*cos(theta2_3).*sin(theta2_2))+(omega2_3.*cos(theta2_2).*cos(theta2_3)-omega2_2.*sin(theta2_2).*sin(theta2_3)).*(cos(theta2_3).*sin(theta2_1)+cos(theta2_1).*sin(theta2_2).*sin(theta2_3))-omega2_2.*cos(theta2_1).*cos(theta2_2).^2).*(et165+et166+et167)-(l2.*cos(theta2_2).*sin(theta2_1)-lg2.*cos(theta2_2).*sin(theta2_1)).*(et168+et169)+(l2.*cos(theta2_1).*cos(theta2_2)-lg2.*cos(theta2_1).*cos(theta2_2)).*(et170+et171);
et185 = -(-sin(theta2_2).*(omega2_1.*cos(theta2_1).*cos(theta2_2)-omega2_2.*sin(theta2_1).*sin(theta2_2))+cos(theta2_2).*cos(theta2_3).*(omega2_3.*cos(theta2_1).*cos(theta2_3)-omega2_1.*sin(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*cos(theta2_3).*sin(theta2_2)+omega2_2.*cos(theta2_2).*cos(theta2_3).*sin(theta2_1)-omega2_3.*sin(theta2_1).*sin(theta2_2).*sin(theta2_3))+cos(theta2_2).*sin(theta2_3).*(omega2_1.*cos(theta2_3).*sin(theta2_1)+omega2_3.*cos(theta2_1).*sin(theta2_3)+omega2_1.*cos(theta2_1).*sin(theta2_2).*sin(theta2_3)+omega2_2.*cos(theta2_2).*sin(theta2_1).*sin(theta2_3)+omega2_3.*cos(theta2_3).*sin(theta2_1).*sin(theta2_2))).*(et172+et173+et174)-(I2z.*cos(theta2_2).*sin(theta2_1).*sin(theta2_2)-I2x.*cos(theta2_2).*cos(theta2_3).*(cos(theta2_1).*sin(theta2_3)+cos(theta2_3).*sin(theta2_1).*sin(theta2_2))+I2y.*cos(theta2_2).*sin(theta2_3).*(cos(theta2_1).*cos(theta2_3)-sin(theta2_1).*sin(theta2_2).*sin(theta2_3))).*(et175+et176);
et186 = -(I2z.*sin(theta2_2).^2+I2x.*cos(theta2_2).^2.*cos(theta2_3).^2+I2y.*cos(theta2_2).^2.*sin(theta2_3).^2).*(et177+et178+et179)+lg2.*cos(theta2_1).*cos(theta2_2).*(et180+et181)-lg2.*cos(theta2_2).*sin(theta2_1).*(et182+et183);
et187 = ((omega1_2.*cos(theta1_3).*sin(theta1_2)+omega1_3.*cos(theta1_2).*sin(theta1_3)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+(omega1_3.*cos(theta1_2).*cos(theta1_3)-omega1_2.*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3))-omega1_2.*cos(theta1_1).*cos(theta1_2).^2).*(I1x.*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).^2+I1y.*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).^2+I1z.*cos(theta1_2).^2.*sin(theta1_1).^2);
et188 = ((cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3))+(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_1).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2))).*(I1z.*cos(theta1_2).*sin(theta1_1).*sin(theta1_2)-I1x.*cos(theta1_2).*cos(theta1_3).*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)));
et189 = -(-sin(theta1_2).*(omega1_1.*cos(theta1_1).*cos(theta1_2)-omega1_2.*sin(theta1_1).*sin(theta1_2))+cos(theta1_2).*cos(theta1_3).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))).*(I1x.*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+I1y.*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3))-I1z.*cos(theta1_1).*cos(theta1_2).^2.*sin(theta1_1));
et190 = -sin(theta1_2).*(omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0)+omega1_2.*cos(theta1_2).*(omega1_1.*cos(theta1_1).*cos(theta1_2)-omega1_2.*sin(theta1_1).*sin(theta1_2))+cos(theta1_2).*cos(theta1_3).*(omega1_1.^2.*cos(theta1_1).*sin(theta1_3)+omega1_3.^2.*cos(theta1_1).*sin(theta1_3)+omega1_1.^2.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_2.^2.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.^2.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_1.*omega1_3.*cos(theta1_3).*sin(theta1_1).*2.0-omega1_1.*omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3).*2.0+omega1_1.*omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3).*2.0+omega1_2.*omega1_3.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3).*2.0);
et191 = -cos(theta1_2).*sin(theta1_3).*(omega1_1.^2.*cos(theta1_1).*cos(theta1_3)+omega1_3.^2.*cos(theta1_1).*cos(theta1_3)-omega1_1.*omega1_3.*sin(theta1_1).*sin(theta1_3).*2.0-omega1_1.^2.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)-omega1_2.^2.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)-omega1_3.^2.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_1.*omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3).*2.0+omega1_1.*omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2).*2.0+omega1_2.*omega1_3.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1).*2.0)-omega1_3.*cos(theta1_2).*cos(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+omega1_2.*cos(theta1_3).*sin(theta1_2).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3));
et192 = omega1_3.*cos(theta1_2).*sin(theta1_3).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+omega1_2.*sin(theta1_2).*sin(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2));
et193 = ((cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3))+(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_1).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2))).*(I1z.*sin(theta1_2).^2+I1x.*cos(theta1_2).^2.*cos(theta1_3).^2+I1y.*cos(theta1_2).^2.*sin(theta1_3).^2);
et194 = (-sin(theta1_2).*(omega1_1.*cos(theta1_1).*cos(theta1_2)-omega1_2.*sin(theta1_1).*sin(theta1_2))+cos(theta1_2).*cos(theta1_3).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))).*(I1z.*cos(theta1_1).*cos(theta1_2).*sin(theta1_2)+I1x.*cos(theta1_2).*cos(theta1_3).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))-I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)));
et195 = ((omega1_2.*cos(theta1_3).*sin(theta1_2)+omega1_3.*cos(theta1_2).*sin(theta1_3)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+(omega1_3.*cos(theta1_2).*cos(theta1_3)-omega1_2.*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3))-omega1_2.*cos(theta1_1).*cos(theta1_2).^2).*(I1z.*cos(theta1_2).*sin(theta1_1).*sin(theta1_2)-I1x.*cos(theta1_2).*cos(theta1_3).*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)));
et196 = (sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2)).*(omega1_2.^2.*cos(theta1_2).*cos(theta1_3)+omega1_3.^2.*cos(theta1_2).*cos(theta1_3)-omega1_2.*omega1_3.*sin(theta1_2).*sin(theta1_3).*2.0)-(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_2.^2.*cos(theta1_2).*sin(theta1_3)+omega1_3.^2.*cos(theta1_2).*sin(theta1_3)+omega1_2.*omega1_3.*cos(theta1_3).*sin(theta1_2).*2.0)+(omega1_2.*cos(theta1_3).*sin(theta1_2)+omega1_3.*cos(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3))+(omega1_3.*cos(theta1_2).*cos(theta1_3)-omega1_2.*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3));
et197 = omega1_1.*omega1_2.*cos(theta1_2).^2.*sin(theta1_1)+omega1_2.^2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_2).*2.0;
et198 = m2.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+lg2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+lg2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+lg2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0)+m3.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+lg3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+lg3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+lg3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0);
et199 = m4.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et200 = -(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(-omega1_1.^2.*sin(theta1_1).*sin(theta1_3)-omega1_3.^2.*sin(theta1_1).*sin(theta1_3)+omega1_1.^2.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.^2.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_3.^2.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_1.*omega1_3.*cos(theta1_1).*cos(theta1_3).*2.0+omega1_1.*omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1).*2.0+omega1_2.*omega1_3.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3).*2.0-omega1_1.*omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3).*2.0);
et201 = -(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.^2.*cos(theta1_3).*sin(theta1_1)+omega1_3.^2.*cos(theta1_3).*sin(theta1_1)+omega1_1.^2.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.^2.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_3.^2.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_1.*omega1_3.*cos(theta1_1).*sin(theta1_3).*2.0-omega1_2.*omega1_3.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3).*2.0+omega1_1.*omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3).*2.0+omega1_1.*omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2).*2.0)+(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3));
et202 = cos(theta1_2).*sin(theta1_1).*(omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+omega1_2.^2.*cos(theta1_1).*cos(theta1_2)-omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0)-omega1_2.*sin(theta1_1).*sin(theta1_2).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2))+omega1_1.*cos(theta1_1).*cos(theta1_2).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2));
et203 = m1.*(-conj(seg1_top_a_2)+lg1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+lg1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+lg1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0)+m2.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+lg2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+lg2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+lg2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0)+m3.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+lg3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+lg3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+lg3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0);
et204 = m4.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et205 = (et187+et188+et189).*((cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3))+(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_1).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2)))+(I1x.*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2)).^2+I1y.*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).^2+I1z.*cos(theta1_1).^2.*cos(theta1_2).^2).*(et190+et191+et192);
et206 = -((omega1_2.*cos(theta1_3).*sin(theta1_2)+omega1_3.*cos(theta1_2).*sin(theta1_3)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+(omega1_3.*cos(theta1_2).*cos(theta1_3)-omega1_2.*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3))-omega1_2.*cos(theta1_1).*cos(theta1_2).^2).*(et193+et194+et195)+(I1x.*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+I1y.*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3))-I1z.*cos(theta1_1).*cos(theta1_2).^2.*sin(theta1_1)).*(et196+et197)-(l1.*sin(theta1_2)-lg1.*sin(theta1_2)).*(et198+et199);
et207 = (l1.*cos(theta1_2).*sin(theta1_1)-lg1.*cos(theta1_2).*sin(theta1_1)).*(m2.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+lg2.*omega2_2.^2.*sin(theta2_2))+m4.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2))+m3.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+lg3.*omega3_2.^2.*sin(theta3_2)))-(I1z.*cos(theta1_1).*cos(theta1_2).*sin(theta1_2)+I1x.*cos(theta1_2).*cos(theta1_3).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))-I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3))).*(et200+et201+et202)-lg1.*sin(theta1_2).*(et203+et204);
et208 = lg1.*cos(theta1_2).*sin(theta1_1).*(m2.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+lg2.*omega2_2.^2.*sin(theta2_2))+m4.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2))+m1.*(conj(seg1_top_a_1)+lg1.*omega1_2.^2.*sin(theta1_2))+m3.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+lg3.*omega3_2.^2.*sin(theta3_2)));
et209 = m2.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+lg2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+lg2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-lg2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0)+m3.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+lg3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+lg3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-lg3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0);
et210 = m4.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et211 = -sin(theta1_2).*(omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0)+omega1_2.*cos(theta1_2).*(omega1_1.*cos(theta1_1).*cos(theta1_2)-omega1_2.*sin(theta1_1).*sin(theta1_2))+cos(theta1_2).*cos(theta1_3).*(omega1_1.^2.*cos(theta1_1).*sin(theta1_3)+omega1_3.^2.*cos(theta1_1).*sin(theta1_3)+omega1_1.^2.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_2.^2.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.^2.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_1.*omega1_3.*cos(theta1_3).*sin(theta1_1).*2.0-omega1_1.*omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3).*2.0+omega1_1.*omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3).*2.0+omega1_2.*omega1_3.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3).*2.0);
et212 = -cos(theta1_2).*sin(theta1_3).*(omega1_1.^2.*cos(theta1_1).*cos(theta1_3)+omega1_3.^2.*cos(theta1_1).*cos(theta1_3)-omega1_1.*omega1_3.*sin(theta1_1).*sin(theta1_3).*2.0-omega1_1.^2.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)-omega1_2.^2.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)-omega1_3.^2.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_1.*omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3).*2.0+omega1_1.*omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2).*2.0+omega1_2.*omega1_3.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1).*2.0)-omega1_3.*cos(theta1_2).*cos(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+omega1_2.*cos(theta1_3).*sin(theta1_2).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3));
et213 = omega1_3.*cos(theta1_2).*sin(theta1_3).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+omega1_2.*sin(theta1_2).*sin(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2));
et214 = ((cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3))+(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_1).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2))).*(I1z.*sin(theta1_2).^2+I1x.*cos(theta1_2).^2.*cos(theta1_3).^2+I1y.*cos(theta1_2).^2.*sin(theta1_3).^2);
et215 = (-sin(theta1_2).*(omega1_1.*cos(theta1_1).*cos(theta1_2)-omega1_2.*sin(theta1_1).*sin(theta1_2))+cos(theta1_2).*cos(theta1_3).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))).*(I1z.*cos(theta1_1).*cos(theta1_2).*sin(theta1_2)+I1x.*cos(theta1_2).*cos(theta1_3).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))-I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)));
et216 = ((omega1_2.*cos(theta1_3).*sin(theta1_2)+omega1_3.*cos(theta1_2).*sin(theta1_3)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+(omega1_3.*cos(theta1_2).*cos(theta1_3)-omega1_2.*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3))-omega1_2.*cos(theta1_1).*cos(theta1_2).^2).*(I1z.*cos(theta1_2).*sin(theta1_1).*sin(theta1_2)-I1x.*cos(theta1_2).*cos(theta1_3).*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)));
et217 = ((cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3))+(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_1).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2))).*(I1z.*cos(theta1_1).*cos(theta1_2).*sin(theta1_2)+I1x.*cos(theta1_2).*cos(theta1_3).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))-I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)));
et218 = -((omega1_2.*cos(theta1_3).*sin(theta1_2)+omega1_3.*cos(theta1_2).*sin(theta1_3)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+(omega1_3.*cos(theta1_2).*cos(theta1_3)-omega1_2.*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3))-omega1_2.*cos(theta1_1).*cos(theta1_2).^2).*(I1x.*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+I1y.*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3))-I1z.*cos(theta1_1).*cos(theta1_2).^2.*sin(theta1_1));
et219 = (-sin(theta1_2).*(omega1_1.*cos(theta1_1).*cos(theta1_2)-omega1_2.*sin(theta1_1).*sin(theta1_2))+cos(theta1_2).*cos(theta1_3).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))).*(I1x.*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2)).^2+I1y.*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).^2+I1z.*cos(theta1_1).^2.*cos(theta1_2).^2);
et220 = -(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(-omega1_1.^2.*sin(theta1_1).*sin(theta1_3)-omega1_3.^2.*sin(theta1_1).*sin(theta1_3)+omega1_1.^2.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.^2.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_3.^2.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_1.*omega1_3.*cos(theta1_1).*cos(theta1_3).*2.0+omega1_1.*omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1).*2.0+omega1_2.*omega1_3.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3).*2.0-omega1_1.*omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3).*2.0);
et221 = -(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.^2.*cos(theta1_3).*sin(theta1_1)+omega1_3.^2.*cos(theta1_3).*sin(theta1_1)+omega1_1.^2.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.^2.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_3.^2.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_1.*omega1_3.*cos(theta1_1).*sin(theta1_3).*2.0-omega1_2.*omega1_3.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3).*2.0+omega1_1.*omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3).*2.0+omega1_1.*omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2).*2.0)+(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3));
et222 = cos(theta1_2).*sin(theta1_1).*(omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+omega1_2.^2.*cos(theta1_1).*cos(theta1_2)-omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0)-omega1_2.*sin(theta1_1).*sin(theta1_2).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2))+omega1_1.*cos(theta1_1).*cos(theta1_2).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2));
et223 = (sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2)).*(omega1_2.^2.*cos(theta1_2).*cos(theta1_3)+omega1_3.^2.*cos(theta1_2).*cos(theta1_3)-omega1_2.*omega1_3.*sin(theta1_2).*sin(theta1_3).*2.0)-(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_2.^2.*cos(theta1_2).*sin(theta1_3)+omega1_3.^2.*cos(theta1_2).*sin(theta1_3)+omega1_2.*omega1_3.*cos(theta1_3).*sin(theta1_2).*2.0)+(omega1_2.*cos(theta1_3).*sin(theta1_2)+omega1_3.*cos(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3))+(omega1_3.*cos(theta1_2).*cos(theta1_3)-omega1_2.*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3));
et224 = omega1_1.*omega1_2.*cos(theta1_2).^2.*sin(theta1_1)+omega1_2.^2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_2).*2.0;
et225 = m1.*(conj(seg1_top_a_3)+lg1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+lg1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)-lg1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0)+m2.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+lg2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+lg2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-lg2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0)+m3.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+lg3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+lg3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-lg3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0);
et226 = m4.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et227 = -(et209+et210).*(l1.*sin(theta1_2)-lg1.*sin(theta1_2))+(I1x.*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+I1y.*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3))-I1z.*cos(theta1_1).*cos(theta1_2).^2.*sin(theta1_1)).*(et211+et212+et213);
et228 = -(-sin(theta1_2).*(omega1_1.*cos(theta1_1).*cos(theta1_2)-omega1_2.*sin(theta1_1).*sin(theta1_2))+cos(theta1_2).*cos(theta1_3).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))).*(et214+et215+et216);
et229 = (l1.*cos(theta1_1).*cos(theta1_2)-lg1.*cos(theta1_1).*cos(theta1_2)).*(m2.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+lg2.*omega2_2.^2.*sin(theta2_2))+m4.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2))+m3.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+lg3.*omega3_2.^2.*sin(theta3_2)));
et230 = (et217+et218+et219).*((cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3))+(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_1).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2)))+(I1z.*cos(theta1_2).*sin(theta1_1).*sin(theta1_2)-I1x.*cos(theta1_2).*cos(theta1_3).*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3))).*(et220+et221+et222);
et231 = (I1x.*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).^2+I1y.*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).^2+I1z.*cos(theta1_2).^2.*sin(theta1_1).^2).*(et223+et224)-lg1.*sin(theta1_2).*(et225+et226)+lg1.*cos(theta1_1).*cos(theta1_2).*(m2.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+lg2.*omega2_2.^2.*sin(theta2_2))+m4.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+l3.*omega3_2.^2.*sin(theta3_2)+lg4.*omega4_2.^2.*sin(theta4_2))+m1.*(conj(seg1_top_a_1)+lg1.*omega1_2.^2.*sin(theta1_2))+m3.*(conj(seg1_top_a_1)+l1.*omega1_2.^2.*sin(theta1_2)+l2.*omega2_2.^2.*sin(theta2_2)+lg3.*omega3_2.^2.*sin(theta3_2)));
et232 = -sin(theta1_2).*(omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0)+omega1_2.*cos(theta1_2).*(omega1_1.*cos(theta1_1).*cos(theta1_2)-omega1_2.*sin(theta1_1).*sin(theta1_2))+cos(theta1_2).*cos(theta1_3).*(omega1_1.^2.*cos(theta1_1).*sin(theta1_3)+omega1_3.^2.*cos(theta1_1).*sin(theta1_3)+omega1_1.^2.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_2.^2.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.^2.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_1.*omega1_3.*cos(theta1_3).*sin(theta1_1).*2.0-omega1_1.*omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3).*2.0+omega1_1.*omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3).*2.0+omega1_2.*omega1_3.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3).*2.0);
et233 = -cos(theta1_2).*sin(theta1_3).*(omega1_1.^2.*cos(theta1_1).*cos(theta1_3)+omega1_3.^2.*cos(theta1_1).*cos(theta1_3)-omega1_1.*omega1_3.*sin(theta1_1).*sin(theta1_3).*2.0-omega1_1.^2.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)-omega1_2.^2.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)-omega1_3.^2.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_1.*omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3).*2.0+omega1_1.*omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2).*2.0+omega1_2.*omega1_3.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1).*2.0)-omega1_3.*cos(theta1_2).*cos(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+omega1_2.*cos(theta1_3).*sin(theta1_2).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3));
et234 = omega1_3.*cos(theta1_2).*sin(theta1_3).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+omega1_2.*sin(theta1_2).*sin(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2));
et235 = m2.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+lg2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+lg2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+lg2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0)+m3.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+lg3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+lg3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+lg3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0);
et236 = m4.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et237 = ((cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3))+(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_1).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2))).*(I1z.*cos(theta1_1).*cos(theta1_2).*sin(theta1_2)+I1x.*cos(theta1_2).*cos(theta1_3).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))-I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)));
et238 = -((omega1_2.*cos(theta1_3).*sin(theta1_2)+omega1_3.*cos(theta1_2).*sin(theta1_3)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+(omega1_3.*cos(theta1_2).*cos(theta1_3)-omega1_2.*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3))-omega1_2.*cos(theta1_1).*cos(theta1_2).^2).*(I1x.*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+I1y.*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3))-I1z.*cos(theta1_1).*cos(theta1_2).^2.*sin(theta1_1));
et239 = (-sin(theta1_2).*(omega1_1.*cos(theta1_1).*cos(theta1_2)-omega1_2.*sin(theta1_1).*sin(theta1_2))+cos(theta1_2).*cos(theta1_3).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))).*(I1x.*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2)).^2+I1y.*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).^2+I1z.*cos(theta1_1).^2.*cos(theta1_2).^2);
et240 = ((omega1_2.*cos(theta1_3).*sin(theta1_2)+omega1_3.*cos(theta1_2).*sin(theta1_3)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+(omega1_3.*cos(theta1_2).*cos(theta1_3)-omega1_2.*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3))-omega1_2.*cos(theta1_1).*cos(theta1_2).^2).*(I1x.*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).^2+I1y.*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).^2+I1z.*cos(theta1_2).^2.*sin(theta1_1).^2);
et241 = ((cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3))+(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_1).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2))).*(I1z.*cos(theta1_2).*sin(theta1_1).*sin(theta1_2)-I1x.*cos(theta1_2).*cos(theta1_3).*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)));
et242 = -(-sin(theta1_2).*(omega1_1.*cos(theta1_1).*cos(theta1_2)-omega1_2.*sin(theta1_1).*sin(theta1_2))+cos(theta1_2).*cos(theta1_3).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))).*(I1x.*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+I1y.*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3))-I1z.*cos(theta1_1).*cos(theta1_2).^2.*sin(theta1_1));
et243 = m2.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+lg2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+lg2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-lg2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0)+m3.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+lg3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+lg3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-lg3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0);
et244 = m4.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et245 = (sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2)).*(omega1_2.^2.*cos(theta1_2).*cos(theta1_3)+omega1_3.^2.*cos(theta1_2).*cos(theta1_3)-omega1_2.*omega1_3.*sin(theta1_2).*sin(theta1_3).*2.0)-(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_2.^2.*cos(theta1_2).*sin(theta1_3)+omega1_3.^2.*cos(theta1_2).*sin(theta1_3)+omega1_2.*omega1_3.*cos(theta1_3).*sin(theta1_2).*2.0)+(omega1_2.*cos(theta1_3).*sin(theta1_2)+omega1_3.*cos(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3))+(omega1_3.*cos(theta1_2).*cos(theta1_3)-omega1_2.*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3));
et246 = omega1_1.*omega1_2.*cos(theta1_2).^2.*sin(theta1_1)+omega1_2.^2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_2).*2.0;
et247 = -(omega1_1.*cos(theta1_1).*cos(theta1_3)-omega1_3.*sin(theta1_1).*sin(theta1_3)+omega1_2.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3)+omega1_3.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)-omega1_1.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2)).*(-omega1_1.^2.*sin(theta1_1).*sin(theta1_3)-omega1_3.^2.*sin(theta1_1).*sin(theta1_3)+omega1_1.^2.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.^2.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_3.^2.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_1.*omega1_3.*cos(theta1_1).*cos(theta1_3).*2.0+omega1_1.*omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1).*2.0+omega1_2.*omega1_3.*cos(theta1_1).*cos(theta1_2).*sin(theta1_3).*2.0-omega1_1.*omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3).*2.0);
et248 = -(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_1.^2.*cos(theta1_3).*sin(theta1_1)+omega1_3.^2.*cos(theta1_3).*sin(theta1_1)+omega1_1.^2.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.^2.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_3.^2.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_1.*omega1_3.*cos(theta1_1).*sin(theta1_3).*2.0-omega1_2.*omega1_3.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3).*2.0+omega1_1.*omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3).*2.0+omega1_1.*omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2).*2.0)+(omega1_1.*cos(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1)-omega1_2.*cos(theta1_1).*cos(theta1_2).*cos(theta1_3)+omega1_1.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2)+omega1_3.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3));
et249 = cos(theta1_2).*sin(theta1_1).*(omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+omega1_2.^2.*cos(theta1_1).*cos(theta1_2)-omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0)-omega1_2.*sin(theta1_1).*sin(theta1_2).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2))+omega1_1.*cos(theta1_1).*cos(theta1_2).*(omega1_1.*cos(theta1_2).*sin(theta1_1)+omega1_2.*cos(theta1_1).*sin(theta1_2));
et250 = m1.*(conj(seg1_top_a_3)+lg1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+lg1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)-lg1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0)+m2.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+lg2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+lg2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-lg2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0)+m3.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+lg3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+lg3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-lg3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0);
et251 = m4.*(conj(seg1_top_a_3)+l1.*omega1_1.^2.*cos(theta1_1).*cos(theta1_2)+l1.*omega1_2.^2.*cos(theta1_1).*cos(theta1_2)+l2.*omega2_1.^2.*cos(theta2_1).*cos(theta2_2)+l2.*omega2_2.^2.*cos(theta2_1).*cos(theta2_2)+l3.*omega3_1.^2.*cos(theta3_1).*cos(theta3_2)+l3.*omega3_2.^2.*cos(theta3_1).*cos(theta3_2)+lg4.*omega4_1.^2.*cos(theta4_1).*cos(theta4_2)+lg4.*omega4_2.^2.*cos(theta4_1).*cos(theta4_2)-l1.*omega1_1.*omega1_2.*sin(theta1_1).*sin(theta1_2).*2.0-l2.*omega2_1.*omega2_2.*sin(theta2_1).*sin(theta2_2).*2.0-l3.*omega3_1.*omega3_2.*sin(theta3_1).*sin(theta3_2).*2.0-lg4.*omega4_1.*omega4_2.*sin(theta4_1).*sin(theta4_2).*2.0);
et252 = m1.*(-conj(seg1_top_a_2)+lg1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+lg1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+lg1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0)+m2.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+lg2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+lg2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+lg2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0)+m3.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+lg3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+lg3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+lg3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0);
et253 = m4.*(-conj(seg1_top_a_2)+l1.*omega1_1.^2.*cos(theta1_2).*sin(theta1_1)+l1.*omega1_2.^2.*cos(theta1_2).*sin(theta1_1)+l2.*omega2_1.^2.*cos(theta2_2).*sin(theta2_1)+l2.*omega2_2.^2.*cos(theta2_2).*sin(theta2_1)+l3.*omega3_1.^2.*cos(theta3_2).*sin(theta3_1)+l3.*omega3_2.^2.*cos(theta3_2).*sin(theta3_1)+lg4.*omega4_1.^2.*cos(theta4_2).*sin(theta4_1)+lg4.*omega4_2.^2.*cos(theta4_2).*sin(theta4_1)+l1.*omega1_1.*omega1_2.*cos(theta1_1).*sin(theta1_2).*2.0+l2.*omega2_1.*omega2_2.*cos(theta2_1).*sin(theta2_2).*2.0+l3.*omega3_1.*omega3_2.*cos(theta3_1).*sin(theta3_2).*2.0+lg4.*omega4_1.*omega4_2.*cos(theta4_1).*sin(theta4_2).*2.0);
et254 = (I1z.*cos(theta1_1).*cos(theta1_2).*sin(theta1_2)+I1x.*cos(theta1_2).*cos(theta1_3).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))-I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3))).*(et232+et233+et234)+(l1.*cos(theta1_1).*cos(theta1_2)-lg1.*cos(theta1_1).*cos(theta1_2)).*(et235+et236)+((omega1_2.*cos(theta1_3).*sin(theta1_2)+omega1_3.*cos(theta1_2).*sin(theta1_3)).*(sin(theta1_1).*sin(theta1_3)-cos(theta1_1).*cos(theta1_3).*sin(theta1_2))+(omega1_3.*cos(theta1_2).*cos(theta1_3)-omega1_2.*sin(theta1_2).*sin(theta1_3)).*(cos(theta1_3).*sin(theta1_1)+cos(theta1_1).*sin(theta1_2).*sin(theta1_3))-omega1_2.*cos(theta1_1).*cos(theta1_2).^2).*(et237+et238+et239);
et255 = -(-sin(theta1_2).*(omega1_1.*cos(theta1_1).*cos(theta1_2)-omega1_2.*sin(theta1_1).*sin(theta1_2))+cos(theta1_2).*cos(theta1_3).*(omega1_3.*cos(theta1_1).*cos(theta1_3)-omega1_1.*sin(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*cos(theta1_3).*sin(theta1_2)+omega1_2.*cos(theta1_2).*cos(theta1_3).*sin(theta1_1)-omega1_3.*sin(theta1_1).*sin(theta1_2).*sin(theta1_3))+cos(theta1_2).*sin(theta1_3).*(omega1_1.*cos(theta1_3).*sin(theta1_1)+omega1_3.*cos(theta1_1).*sin(theta1_3)+omega1_1.*cos(theta1_1).*sin(theta1_2).*sin(theta1_3)+omega1_2.*cos(theta1_2).*sin(theta1_1).*sin(theta1_3)+omega1_3.*cos(theta1_3).*sin(theta1_1).*sin(theta1_2))).*(et240+et241+et242)-(l1.*cos(theta1_2).*sin(theta1_1)-lg1.*cos(theta1_2).*sin(theta1_1)).*(et243+et244)-(I1z.*cos(theta1_2).*sin(theta1_1).*sin(theta1_2)-I1x.*cos(theta1_2).*cos(theta1_3).*(cos(theta1_1).*sin(theta1_3)+cos(theta1_3).*sin(theta1_1).*sin(theta1_2))+I1y.*cos(theta1_2).*sin(theta1_3).*(cos(theta1_1).*cos(theta1_3)-sin(theta1_1).*sin(theta1_2).*sin(theta1_3))).*(et245+et246);
et256 = -(I1z.*sin(theta1_2).^2+I1x.*cos(theta1_2).^2.*cos(theta1_3).^2+I1y.*cos(theta1_2).^2.*sin(theta1_3).^2).*(et247+et248+et249)-lg1.*cos(theta1_2).*sin(theta1_1).*(et250+et251)+lg1.*cos(theta1_1).*cos(theta1_2).*(et252+et253);
V_hirashima = [et254+et255+et256;et227+et228+et229+et230+et231;et205+et206+et207+et208;et184+et185+et186;et158+et159+et160+et161;et136+et137+et138+et139;et114+et115+et116+et117;et92+et93+et94+et95;et71+et72+et73+et74+et75;et51+et52+et53+et54;et33+et34+et35+et36;et15+et16+et17+et18];
